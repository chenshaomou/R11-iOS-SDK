<html>
    <head>
        <meta charset="utf-8">
            <title>R11 SDK 测试</title>
            <style>
                .btn {
                    text-align: center;
                    background: dodgerblue;
                    color: white;
                    padding: 20px;
                    margin: 30px;
                    font-size: 24px;
                    border-radius: 4px;
                    box-shadow: 4px 2px 10px #999;
                }
            </style>
    </head>
    <body>
        <h1>Hello RainbowEleven</h1>
        <div class="btn" onclick="callSyn()">同步调用原生插件(不带参数)</div>
        <div class="btn" onclick="callSynArgs()">同步调用原生插件(带参数,字典)</div>
        <div class="btn" onclick="callSynStringArgs()">同步调用原生插件(带参数,字符串)</div>
        <div class="btn" onclick="callASyn()">异步调用插件(不带参数)</div>
        <div class="btn" onclick="callASynArgs()">异步调用原生插件(参数,字典)</div>
        <div class="btn" onclick="callASynStringArgs()">异步调用原生插件(参数,字符串)</div>
        <div class="btn" onclick="callASynNumberArgs()">异步调用原生插件(参数,数字)</div>
        <div class="btn" onclick="callASynBooleanArgs()">异步调用原生插件(参数,布尔值)</div>
        <div class="btn" onclick="callASynArrayArgs()">异步调用原生插件(参数,数组)</div>
        <div class="btn" onclick="callSynStoreObj()">同步调用原生插件(store对象,字典)</div>
        <div class="btn" onclick="callASynStoreObj()">异步调用原生插件(store对象,字典)</div>
        <div class="btn" onclick="eventOn()">注册事件(不带参数)</div>
        <div class="btn" onclick="eventSend()">发送事件(不带参数)</div>
        <div class="btn" onclick="eventSendArgs()">发送事件(带参数)</div>
        <div class="btn" onclick="eventOff()">取消事件()</div>
        <div id="content"></div>
    </body>
    <script type="text/javascript">
        var deviceReady = true
        document.addEventListener("deviceready", function(){
                                  deviceReady = true
                                  // 给原生调用(不带参数)
                                  // 原生将会调用到window.jsBridge.userDefault.testNavCall
                                  }, false)
                                  
      // 同步调用原生插件(不带参数)
    function callSyn() {
          if(!deviceReady){
              return
          }
          console.log('同步调用原生插件(不带参数) begin')
          var _result = jsBridge.call('appInfo', 'version', {})
          console.log('同步调用原生插件(不带参数) end，原生返回结果：' + _result)
    }
    // 同步调用原生插件(带参数,字典)
    function callSynArgs() {
        if(!deviceReady){
            return
        }
        console.log('同步调用原生插件(带参数,字典) begin')
        var _result = jsBridge.call('appInfo', 'version', {'foo': 'bar'})
        console.log('同步调用原生插件(带参数,字典) end， 原生返回结果：' + _result)
    }
    // 同步调用原生插件(带参数,字符串)
    function callSynStringArgs() {
        if(!deviceReady){
            return
        }
        console.log('同步调用原生插件(带参数,字符串) begin')
        var _result = jsBridge.call('appInfo', 'version', 'this is a string')
        console.log('同步调用原生插件(带参数,字符串) end，原生返回结果：' + _result)
    }
    // 异步调用插件(不带参数)
    function callASyn() {
        if(!deviceReady){
            return
        }
        console.log('异步调用插件(不带参数) begin')
        jsBridge.call('appInfo', 'version', {}, function (r) {
                      console.log('异步调用插件(不带参数) end，原生返回结果：' + r)
                      })
    }
    // 异步调用原生插件(参数,字典)
    function callASynArgs() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(参数,字典) begin')
        jsBridge.call('appInfo', 'version', {'foo': 'bar'}, function (r) {
                      console.log('异步调用原生插件(参数,字典) end，原生返回结果：' + r)
                      })
    }
    // 异步调用原生插件(参数,字符串)
    function callASynStringArgs() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(参数,字符串) begin')
        jsBridge.call('appInfo', 'version', 'this is a string', function (r) {
                      console.log('异步调用原生插件(参数,字符串) end，原生返回结果：' + r)
                      })
    }
    // 异步调用原生插件(参数,数字)
    function callASynNumberArgs() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(参数,数字) begin')
        jsBridge.call('appInfo', 'version', 5, function (r) {
                      console.log('异步调用原生插件(参数,数字) end，原生返回结果：' + r)
                      })
    }
    // 异步调用原生插件(参数,布尔值)
    function callASynBooleanArgs() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(参数,布尔值) begin')
        jsBridge.call('appInfo', 'version', true, function (r) {
                      console.log('异步调用原生插件(参数,布尔值) end，原生返回结果：' + r)
                      })
    }
    // 异步调用原生插件(参数,数组)
    function callASynArrayArgs() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(参数,数组) begin')
        jsBridge.call('appInfo', 'version', ['foo', 'bar'], function (r) {
                      console.log('异步调用原生插件(参数,数组) end，原生返回结果：' + r)
                      })
    }
    // 同步调用原生插件(store对象,字典)
    function callSynStoreObj() {
        if(!deviceReady){
            return
        }
        console.log('同步调用原生插件(store对象,字典) begin')
        var _result = jsBridge.store.getValue({'foo': 'bar'})
        console.log('同步调用原生插件(store对象,字典) end, 原生返回结果：' + _result)
    }
    // 异步调用原生插件(store对象,字典)
    function callASynStoreObj() {
        if(!deviceReady){
            return
        }
        console.log('异步调用原生插件(store对象,字典) begin')
        jsBridge.network.get({'foo': 'bar'}, function (r) {
                             console.log('异步调用原生插件(store对象,字典) end, 原生返回结果：' + r)
                             })
    }
    // 注册事件(不带参数)
    function eventOn() {
        if(!deviceReady){
            return
        }
        console.log('注册事件(不带参数) begin')
        jsBridge.on('onResume', function(r){
                    console.log('注册事件(不带参数) end, 原生返回结果：' + r)
                    })
    }
    // 发送事件(不带参数)
    function eventSend() {
        if(!deviceReady){
            return
        }
        console.log('发送事件(不带参数) begin')
        var _result = jsBridge.send('domLoadFinish')
        console.log('发送事件(不带参数) end，原生返回结果：' + _result)
    }
    // 发送事件(带参数)
    function eventSendArgs() {
        if(!deviceReady){
            return
        }
        console.log('发送事件(带参数) begin')
        var _result = jsBridge.send('onResume', {'height': 100})
        console.log('发送事件(带参数) end，原生返回结果：' + _result)
    }
    // 取消事件()
    function eventOff() {
        if(!deviceReady){
            return
        }
        console.log('取消事件() begin')
        var _result = jsBridge.off('keyboardUp')
        console.log('取消事件() end，原生返回结果：' + _result)
    }
    </script>
</html>

